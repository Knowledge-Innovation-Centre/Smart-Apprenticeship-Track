{"version":3,"sources":["webpack:///./src/models/Enterprise.js","webpack:///./src/views/users/Index.vue?896b","webpack:///./src/views/users/CellRendererActions.vue?f038","webpack:///src/views/users/CellRendererActions.vue","webpack:///./src/views/users/CellRendererActions.vue?25ea","webpack:///./src/views/users/CellRendererActions.vue","webpack:///src/views/users/Index.vue","webpack:///./src/views/users/Index.vue?f8fd","webpack:///./src/views/users/Index.vue","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js"],"names":["Enterprise","id","orgtype","name","streetname","cityname","cityzipcode","contact_username","school_id","store","state","AppActiveUser","school","studyPrograms","identifier","useFirstErrorOnly","label","type","showInList","showInView","showOnCreate","showOnUpdate","pinned","width","sendOnlyIds","values","UserCollection","filterRole","multiple","StudyProgramCollection","required","fetch","save","propose","patch","delete","studyProgramId","config","url","method","data","this","createRequest","send","BaseModel","EnterpriseCollection","orderBy","BaseCollection","render","_vm","_h","$createElement","_c","_self","can","staticClass","attrs","_e","$t","model","value","callback","$$v","tableSearch","expression","headerColumns","users","models","gridOptions","defaultColDef","context","staticRenderFns","on","$event","view","object","canEditUser","edit","canDeleteUser","deleteUser","computed","params","mounted","methods","user","$router","push","username","component","components","AgGridVue","mixins","tableMixin","props","inOrganization","Boolean","default","User","enterprises","schools","School","activeConfirm","getTableHeaderColumns","_defineProperty","obj","key","enumerable","configurable","writable"],"mappings":"kWASaA,EAAb,oQACkB,QADlB,gFAII,MAAO,CACLC,GAAI,KACJC,QAAS,eACTC,KAAM,KACNC,WAAY,KACZC,SAAU,KACVC,YAAa,KACbC,iBAAkB,KAClBC,UAAWC,OAAMC,MAAMC,cAAcC,OACrCC,cAAe,MAbrB,gCAkBI,MAAO,CACLC,WAAY,KACZC,mBAAmB,KApBzB,qCAyBI,MAAO,SAzBX,kCA8BI,MAAO,KA9BX,uCAmCI,MAAO,CACLd,GAAI,CACFe,MAAO,aACPC,KAAM,OACNC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,EACdC,OAAQ,OACRC,MAAO,KAETpB,KAAM,CACJa,MAAO,4BACPC,KAAM,OACNC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,EACdC,OAAQ,QAEVlB,WAAY,CACVY,MAAO,kBACPC,KAAM,OACNC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,GAGhBhB,SAAU,CACRW,MAAO,eACPC,KAAM,OACNC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,GAEhBf,YAAa,CACXU,MAAO,mBACPC,KAAM,OACNC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,GAEhBd,iBAAkB,CAChBS,MAAO,uBACPC,KAAM,SACNC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,EACdG,aAAa,EACbC,OAAQ,IAAIC,OACZC,WAAY,iBAEdd,cAAe,CACbG,MAAO,uBACPC,KAAM,SACNC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,EACdO,UAAU,EACVH,OAAQ,IAAII,WAnGpB,mCAyGI,MAAO,CACL3B,QAAS4B,cACT3B,KAAM2B,cACN1B,WAAY0B,cACZzB,SAAUyB,cACVxB,YAAawB,cACbtB,UAAWsB,iBA/GjB,+BAqHI,MAAO,CACLC,MAAO,yBACPC,KAAM,sBACNC,QAAS,sCACTC,MAAO,oBACPC,OAAQ,8BA1Hd,8BA8HUC,GACN,IAAIC,EAAS,CACXC,IAAK,oBAAsBF,EAC3BG,OAAQ,OACRC,KAAMC,MAGR,OAAOA,KAAKC,cAAcL,GAAQM,WArItC,GAAgCC,QAyInBC,EAAb,+LAGI,OAAO7C,IAHX,iCAQI,MAAO,CACL8C,QAAS,QATf,+BAeI,MAAO,CACLf,MAAO,6CAhBb,GAA0CgB,S,2CClJ1C,IAAIC,EAAS,WAAa,IAAIC,EAAIR,KAASS,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAAEH,EAAIK,IAAI,YAAa,QAASF,EAAG,YAAY,CAACG,YAAY,mBAAmBC,MAAM,CAAC,KAAO,MAAM,KAAO,SAAS,GAAK,mBAAmBP,EAAIQ,KAAKL,EAAG,SAAS,CAACA,EAAG,SAAS,CAACA,EAAG,WAAW,CAACG,YAAY,cAAcC,MAAM,CAAC,YAAcP,EAAIS,GAAG,mBAAmBC,MAAM,CAACC,MAAOX,EAAe,YAAEY,SAAS,SAAUC,GAAMb,EAAIc,YAAYD,GAAKE,WAAW,kBAAkB,IAAI,GAAGZ,EAAG,SAAS,CAACA,EAAG,SAAS,CAACA,EAAG,cAAc,CAACG,YAAY,6CAA6CC,MAAM,CAAC,cAAcP,EAAIgB,cAAc,WAAWhB,EAAIiB,MAAMC,OAAO,eAAelB,EAAImB,YAAY,kBAAkBnB,EAAIoB,cAAc,QAAUpB,EAAIqB,QAAQ,YAAa,EAAK,uBAAuB,OAAO,IAAI,IAAI,IACzxBC,EAAkB,G,wECDlB,EAAS,WAAa,IAAItB,EAAIR,KAASS,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEH,EAAIK,IAAI,OAAQ,QAASF,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,UAAU,cAAc,mDAAmDgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOxB,EAAIyB,KAAKzB,EAAI0B,YAAY1B,EAAIQ,KAAMR,EAAI2B,YAAY3B,EAAI0B,QAASvB,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,YAAY,cAAc,kDAAkDgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOxB,EAAI4B,KAAK5B,EAAI0B,YAAY1B,EAAIQ,KAAMR,EAAI6B,cAAc7B,EAAI0B,QAASvB,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,aAAa,cAAc,4CAA4CgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOxB,EAAI8B,WAAW9B,EAAI0B,YAAY1B,EAAIQ,MAAM,IACxtB,EAAkB,G,YC4BtB,uBACEuB,SAAU,CACRL,OADJ,WAEM,OAAOlC,KAAKwC,OAAOzC,OAGvB0C,QANF,aAOEC,QAAS,CACPJ,WADJ,SACA,cACMK,EACN,SACA,iBACQ,IAAR,aACQ,EAAR,QACQ,EAAR,YACU,MAAV,UACU,MAAV,kCACU,KAAV,4CAEQ,EAAR,6CAEA,mBACQ,QAAR,OACQ,EAAR,gCAGIP,KAnBJ,SAmBA,GACMpC,KAAK4C,QAAQC,KAAK,CAChBnF,KAAM,aACN8E,OAAQ,CACNhF,GAAImF,EAAKG,SACTH,KAAMA,MAIZV,KA5BJ,SA4BA,GACMjC,KAAK4C,QAAQC,KAAK,CAChBnF,KAAM,aACN8E,OAAQ,CACNhF,GAAImF,EAAKG,SACTH,KAAMA,SCrE4V,I,YCOxWI,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,gCC4Bf,GACEC,WAAY,CACVC,UAAJ,gBAEEC,OAAQ,CAACC,EAAX,MACEC,MAAO,CACLC,eAAgB,CACd7E,KAAM8E,QACNjE,UAAU,EACVkE,QAHN,WAIQ,OAAO,KAIbxD,KAdF,WAeI,MAAO,CACL0B,MAAO,IAAI+B,EAAjB,KACMC,YAAa,IAAIlG,EAAvB,KACMmG,QAAS,IAAIC,EAAnB,KACMC,eAAe,EACf/B,QAAS,CAAf,wBAGEU,SAAU,CACRf,cADJ,WAEM,OAAOxB,KAAK6D,sBAAsB,IAAIL,EAA5C,UAGE,QA5BF,uKA6BA,gBA7BA,OA8BA,iBA9BA,wGAiCEd,QAAS,CACP,SADJ,iKAEA,aAFA,gCAGA,mBAHA,kCAIA,kBAJA,iCAKA,2BALA,gDAOA,iCAPA,yBASA,yBATA,yBAUA,qBAVA,QAYA,GACA,SACA,kBAEA,qCAhBA,2GC/E8V,ICO1V,EAAY,eACd,EACAnC,EACAuB,GACA,EACA,KACA,KACA,MAIa,e,2CClBf,2DACe,SAASgC,EAAgBC,EAAKC,EAAK7C,GAYhD,OAXI6C,KAAOD,EACT,IAAuBA,EAAKC,EAAK,CAC/B7C,MAAOA,EACP8C,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZJ,EAAIC,GAAO7C,EAGN4C","file":"js/chunk-39748b73.9b7b9bd9.js","sourcesContent":["import BaseModel from './BaseModel'\nimport BaseCollection from './BaseCollection'\nimport { SchoolKeyCollection } from './SchoolKey'\nimport { UserCollection } from './User'\nimport { StudyProgramCollection } from './StudyProgram'\n\nimport { required } from 'vue-mc/validation'\nimport store from '../store/store'\n\nexport class Enterprise extends BaseModel {\n  displayField1 = 'name'\n  // Default attributes that define the \"empty\" state.\n  defaults() {\n    return {\n      id: null,\n      orgtype: 'ORGANIZATION',\n      name: null,\n      streetname: null,\n      cityname: null,\n      cityzipcode: null,\n      contact_username: null,\n      school_id: store.state.AppActiveUser.school,\n      studyPrograms: []\n    }\n  }\n\n  options() {\n    return {\n      identifier: 'id',\n      useFirstErrorOnly: true\n    }\n  }\n\n  displayField() {\n    return 'name'\n  }\n\n  // Attribute mutations.\n  mutations() {\n    return {}\n  }\n\n  //\n  fieldsSettings() {\n    return {\n      id: {\n        label: 'GLOBALS.ID',\n        type: 'text',\n        showInList: false,\n        showInView: false,\n        showOnCreate: false,\n        showOnUpdate: false,\n        pinned: 'left',\n        width: 100\n      },\n      name: {\n        label: 'GLOBALS.NAME_ORGANIZATION',\n        type: 'text',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        pinned: 'left'\n      },\n      streetname: {\n        label: 'GLOBALS.ADDRESS',\n        type: 'text',\n        showInList: false,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n\n      cityname: {\n        label: 'GLOBALS.CITY',\n        type: 'text',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n      cityzipcode: {\n        label: 'GLOBALS.ZIP_CODE',\n        type: 'text',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n      contact_username: {\n        label: 'GLOBALS.CONTACT_USER',\n        type: 'select',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        sendOnlyIds: true,\n        values: new UserCollection(),\n        filterRole: 'ROLE_ORGADMIN'\n      },\n      studyPrograms: {\n        label: 'STUDY_PROGRAMS.TITLE',\n        type: 'select',\n        showInList: false,\n        showInView: false,\n        showOnCreate: true,\n        showOnUpdate: true,\n        multiple: true,\n        values: new StudyProgramCollection()\n      }\n    }\n  }\n  // Attribute validation\n  validation() {\n    return {\n      orgtype: required,\n      name: required,\n      streetname: required,\n      cityname: required,\n      cityzipcode: required,\n      school_id: required\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/editOrganization/{id}',\n      save: '/createOrganization',\n      propose: '/studentProposal/{study_program_id}',\n      patch: '/editOrganization',\n      delete: '/deleteOrganization/{id}'\n    }\n  }\n\n  propose(studyProgramId) {\n    let config = {\n      url: '/studentProposal/' + studyProgramId,\n      method: 'POST',\n      data: this\n    }\n\n    return this.createRequest(config).send()\n  }\n}\n\nexport class EnterpriseCollection extends BaseCollection {\n  // Model that is contained in this collection.\n  model() {\n    return Enterprise\n  }\n\n  // Default attributes\n  defaults() {\n    return {\n      orderBy: 'id'\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/listOrganizationsByType/ORGANIZATION'\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vx-card',[(_vm.can('createAny', 'User'))?_c('vs-button',{staticClass:\"mb-3 float-right\",attrs:{\"icon\":\"add\",\"type\":\"border\",\"to\":\"/users/create\"}}):_vm._e(),_c('vs-row',[_c('vs-col',[_c('vs-input',{staticClass:\"float-right\",attrs:{\"placeholder\":_vm.$t('GLOBALS.SEARCH')},model:{value:(_vm.tableSearch),callback:function ($$v) {_vm.tableSearch=$$v},expression:\"tableSearch\"}})],1)],1),_c('vs-row',[_c('vs-col',[_c('ag-grid-vue',{staticClass:\"ag-theme-material w-100 my-4 ag-grid-table\",attrs:{\"column-defs\":_vm.headerColumns,\"row-data\":_vm.users.models,\"grid-options\":_vm.gridOptions,\"default-col-def\":_vm.defaultColDef,\"context\":_vm.context,\"pagination\":true,\"pagination-page-size\":10}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.can('view', 'User'))?_c('feather-icon',{attrs:{\"icon\":\"EyeIcon\",\"svg-classes\":\"h-5 w-5 mr-4  hover:text-primary cursor-pointer\"},on:{\"click\":function($event){return _vm.view(_vm.object)}}}):_vm._e(),(_vm.canEditUser(_vm.object))?_c('feather-icon',{attrs:{\"icon\":\"Edit3Icon\",\"svg-classes\":\"h-5 w-5 mr-4 hover:text-primary cursor-pointer\"},on:{\"click\":function($event){return _vm.edit(_vm.object)}}}):_vm._e(),(_vm.canDeleteUser(_vm.object))?_c('feather-icon',{attrs:{\"icon\":\"Trash2Icon\",\"svg-classes\":\"h-5 w-5 hover:text-danger cursor-pointer\"},on:{\"click\":function($event){return _vm.deleteUser(_vm.object)}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <feather-icon\n      v-if=\"can('view', 'User')\"\n      icon=\"EyeIcon\"\n      svg-classes=\"h-5 w-5 mr-4  hover:text-primary cursor-pointer\"\n      @click=\"view(object)\"\n    />\n\n    <feather-icon\n      v-if=\"canEditUser(object)\"\n      icon=\"Edit3Icon\"\n      svg-classes=\"h-5 w-5 mr-4 hover:text-primary cursor-pointer\"\n      @click=\"edit(object)\"\n    />\n\n    <feather-icon\n      v-if=\"canDeleteUser(object)\"\n      icon=\"Trash2Icon\"\n      svg-classes=\"h-5 w-5 hover:text-danger cursor-pointer\"\n      @click=\"deleteUser(object)\"\n    />\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { UserCollection } from '../../models/User'\n\nexport default Vue.extend({\n  computed: {\n    object() {\n      return this.params.data\n    }\n  },\n  mounted() {},\n  methods: {\n    deleteUser(user) {\n      user\n        .delete()\n        .then(() => {\n          let users = new UserCollection()\n          users.fetch()\n          this.$vs.notify({\n            color: 'success',\n            title: this.$t('GLOBALS.DELETE_SUCCESSFUL'),\n            text: this.$t('GLOBALS.DELETE_SUCCESSFUL_CONTENT')\n          })\n          this.params.context.componentParent.loadData()\n        })\n        .catch(error => {\n          console.log(error)\n          this.errorMessageApi(error.response)\n        })\n    },\n    edit(user) {\n      this.$router.push({\n        name: 'users-edit',\n        params: {\n          id: user.username,\n          user: user\n        }\n      })\n    },\n    view(user) {\n      this.$router.push({\n        name: 'users-view',\n        params: {\n          id: user.username,\n          user: user\n        }\n      })\n    }\n  }\n})\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CellRendererActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CellRendererActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CellRendererActions.vue?vue&type=template&id=91981bd0&\"\nimport script from \"./CellRendererActions.vue?vue&type=script&lang=js&\"\nexport * from \"./CellRendererActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <vx-card>\r\n    <vs-button\r\n      v-if=\"can('createAny', 'User')\"\r\n      class=\"mb-3 float-right\"\r\n      icon=\"add\"\r\n      type=\"border\"\r\n      to=\"/users/create\"\r\n    />\r\n    <vs-row>\r\n      <vs-col>\r\n        <vs-input\r\n          :placeholder=\"$t('GLOBALS.SEARCH')\"\r\n          v-model=\"tableSearch\"\r\n          class=\"float-right\"\r\n        />\r\n      </vs-col>\r\n    </vs-row>\r\n\r\n    <vs-row>\r\n      <vs-col>\r\n        <ag-grid-vue\r\n          :column-defs=\"headerColumns\"\r\n          :row-data=\"users.models\"\r\n          :grid-options=\"gridOptions\"\r\n          :default-col-def=\"defaultColDef\"\r\n          :context=\"context\"\r\n          :pagination=\"true\"\r\n          :pagination-page-size=\"10\"\r\n          class=\"ag-theme-material w-100 my-4 ag-grid-table\"\r\n        />\r\n      </vs-col>\r\n    </vs-row>\r\n  </vx-card>\r\n</template>\r\n\r\n<script>\r\nimport '@/assets/scss/vuexy/extraComponents/agGridStyleOverride.scss'\r\n\r\nimport { User, UserCollection } from '../../models/User'\r\nimport { EnterpriseCollection } from '../../models/Enterprise'\r\nimport { SchoolCollection } from '../../models/School'\r\nimport CellRendererActions from './CellRendererActions'\r\nimport { AgGridVue } from 'ag-grid-vue'\r\nimport tableMixin from '../../mixins/tableMixin'\r\n\r\nexport default {\r\n  components: {\r\n    AgGridVue\r\n  },\r\n  mixins: [tableMixin],\r\n  props: {\r\n    inOrganization: {\r\n      type: Boolean,\r\n      required: false,\r\n      default() {\r\n        return false\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      users: new UserCollection(),\r\n      enterprises: new EnterpriseCollection(),\r\n      schools: new SchoolCollection(),\r\n      activeConfirm: false,\r\n      context: { componentParent: this }\r\n    }\r\n  },\r\n  computed: {\r\n    headerColumns() {\r\n      return this.getTableHeaderColumns(new User(), CellRendererActions)\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.loadData()\r\n    this.resizeFit()\r\n  },\r\n\r\n  methods: {\r\n    async loadData() {\r\n      if (this.isAdmin) {\r\n        await this.users.fetch()\r\n      } else if (this.isSchoolUser) {\r\n        await this.users.fetchInSchool()\r\n      } else {\r\n        await this.users.fetchInOrganization()\r\n      }\r\n      await this.enterprises.fetch()\r\n      await this.schools.fetch()\r\n\r\n      let params = {\r\n        force: true,\r\n        suppressFlash: true\r\n      }\r\n      this.gridOptions.api.refreshCells(params)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=b0207d46&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}