(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cc0b44e"],{"1f8b":function(t,s,e){t.exports=e.p+"img/login.d814adb7.png"},"31d0":function(t,s,e){t.exports=e.p+"img/eu_flag.1f805c25.jpg"},"8b48":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"h-screen flex w-full bg-img vx-row no-gutter items-center justify-center",attrs:{id:"page-login"}},[o("div",{staticClass:"vx-col sm:w-1/2 md:w-1/2 lg:w-3/4 xl:w-3/5 sm:m-0 m-4"},[o("vx-card",[o("div",{staticClass:"full-page-bg-color",attrs:{slot:"no-body"},slot:"no-body"},[o("div",{staticClass:"vx-row no-gutter justify-center items-center"},[o("div",{staticClass:"vx-col hidden lg:block lg:w-1/2"},[o("img",{staticClass:"mx-auto",attrs:{src:e("1f8b"),alt:"login"}})]),o("div",{staticClass:"vx-col sm:w-full md:w-full lg:w-1/2 d-theme-dark-bg"},[o("div",{staticClass:"p-8 login-tabs-container"},[o("div",{staticClass:"vx-card__title mb-4"},[o("h4",{staticClass:"mb-4"},[t._v(t._s(t.$t("GLOBALS.LOGIN")))]),o("p",[t._v(t._s(t.$t("GLOBALS.WELCOME_BACK")))])]),o("div",[o("vs-input",{staticClass:"w-full mt-10",attrs:{name:"username","icon-no-border":"",icon:"icon icon-user","icon-pack":"feather","label-placeholder":"Username"},model:{value:t.username,callback:function(s){t.username=s},expression:"username"}}),o("vs-input",{staticClass:"w-full mt-10",attrs:{type:"password",name:"password","icon-no-border":"",icon:"icon icon-lock","icon-pack":"feather","label-placeholder":"Password"},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.login(s)}},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),o("vs-select",{staticClass:"w-full mt-5 hidden",attrs:{label:t.$t("SCHOOLS.TITLE_SINGLE"),multiple:!1,autocomplete:""},model:{value:t.school,callback:function(s){t.school=s},expression:"school"}},t._l(t.schools,(function(t,s){return o("vs-select-item",{key:s,attrs:{value:t.school_id,text:t.name}})})),1),o("vs-button",{staticClass:"mt-10 hidden",attrs:{to:"register",type:"border"}},[t._v(t._s(t.$t("GLOBALS.SELF_REGISTER"))+"\n                ")]),o("vs-button",{staticClass:"mt-10 float-right",on:{click:t.login}},[t._v(t._s(t.$t("GLOBALS.LOGIN"))+"\n                ")])],1)])])]),o("div",{staticClass:"vx-row no-gutter justify-center items-center d-theme-dark-bg"},[o("div",{staticClass:"vx-col hidden lg:block p-5 lg:w-1/2"},[o("img",{staticClass:"mx-auto",staticStyle:{width:"250px"},attrs:{src:e("31d0"),alt:"eu_flag"}})]),o("div",{staticClass:"vx-col hidden text-xs p-5 lg:block lg:w-1/2"},[o("p",{staticClass:"mb-2"},[t._v("\n              Smart Electronic System for Tracking Apprenticeships (Apprentice\n              Track)\n            ")]),o("p",{staticClass:"mb-2"},[t._v("Project Ref: 2017-1-SI01-KA203-035576")]),o("p",[t._v("\n              This project has been funded with support from the European\n              Commission\n            ")])])])])])],1)])},a=[],l=e("bc3a"),n=e.n(l),c={data:function(){return{username:"",password:"",school:null,schools:[],checkbox_remember_me:!1,roles:{ROLE_ADMIN:"admin",ROLE_SCHOOLADMIN:"schoolAdmin",ROLE_SCHOOLORG:"schoolOrganizer",ROLE_ORGADMIN:"organizationAdmin",ROLE_MENTOR:"mentor",ROLE_STUDENT:"student"}}},mounted:function(){var t=this,s="http://localhost:8000/api/",e=n.a.create({baseURL:s});e.get("get-school-keys-for-login").then((function(s){t.schools=s.data,t.schools.length&&(t.school=t.schools[0].school_id)})).catch((function(t){console.log(t)}))},methods:{login:function(){var t=this;this.$http.post("login",{username:this.username,password:this.password,school:this.school}).then((function(s){var e=s.data;delete e.password,t.$store.dispatch("updateUserRole",{aclChangeRole:t.$acl.change,userRole:t.getRole(e.roles)}),t.$store.dispatch("updateUserInfo",s.data),t.$router.push("/")})).catch((function(){t.$vs.notify({color:"danger",title:t.$t("GLOBALS.CHECK_CREDENTIALS"),text:t.$t("GLOBALS.USERNAME_OR_PASSWORD_NOT_CORRECT")})}))},getRole:function(t){return this.roles[t[0]]}}},i=c,r=e("2877"),d=Object(r["a"])(i,o,a,!1,null,null,null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-6cc0b44e.ff19461d.js.map