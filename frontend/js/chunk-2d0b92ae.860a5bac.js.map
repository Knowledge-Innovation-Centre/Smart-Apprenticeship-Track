{"version":3,"sources":["webpack:///./src/views/users/Profile.vue?4683","webpack:///src/views/users/Profile.vue","webpack:///./src/views/users/Profile.vue?dfc1","webpack:///./src/views/users/Profile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$t","_v","_s","activeUser","username","email","first_name","last_name","phone","streetname","cityname","cityzipcode","organization","school","studyprogram","name","_e","ref","dropzoneOptions","on","sent","error","_l","files","file","key","id","filename","$event","remove","downloadLink","canEdit","editProfile","changePassword","staticRenderFns","components","vueDropzone","props","roles","type","Array","default","data","File","url","thumbnailWidth","maxFiles","withCredentials","computed","methods","delete","then","color","title","text","$router","push","jwt","fetchUser","$vs","notify","component"],"mappings":"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","file":"js/chunk-2d0b92ae.860a5bac.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/3 w-full\"},[_c('vx-card',{attrs:{\"title\":_vm.$t('USERS.PERSONAL_DATA')}},[_c('div',[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.USERNAME'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.username))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.EMAIL'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.email))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.FIRST_NAME'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.first_name))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.LAST_NAME'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.last_name))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.PHONE'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.phone))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.ADDRESS'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.streetname))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.CITY'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.cityname))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.ZIP'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.cityzipcode))])])])],1),_c('div',{staticClass:\"vx-col md:w-1/3 w-full\"},[_c('vx-card',{attrs:{\"title\":_vm.$t('USERS.ORGANIZATION_DATA')}},[_c('div',[_c('h6',[_vm._v(_vm._s(_vm.$t('ORGANIZATIONS.TITLE_SINGLE'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.organization))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('SCHOOLS.TITLE_SINGLE'))+\":\")]),_c('p',[_vm._v(_vm._s(_vm.activeUser.school))])]),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('STUDY_PROGRAMS.TITLE_SINGLE'))+\":\")]),(_vm.activeUser.studyprogram)?[_c('p',[_vm._v(_vm._s(_vm.activeUser.studyprogram.name))])]:_vm._e()],2)])],1),(_vm.isStudent)?_c('div',{staticClass:\"vx-col md:w-1/3 w-full\"},[_c('vx-card',{attrs:{\"title\":_vm.$t('USERS.FILE_UPLOADS')}},[_c('h6',{staticClass:\"mb-2\"},[_vm._v(_vm._s(_vm.$t('USERS.UPLOAD_CV'))+\":\")]),_c('p',[_c('vue-dropzone',{ref:\"myDropzoneInstance\",attrs:{\"id\":\"dropzone\",\"options\":_vm.dropzoneOptions},on:{\"vdropzone-success\":_vm.sent,\"vdropzone-error\":_vm.error}})],1),_c('div',{staticClass:\"mt-5\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('USERS.YOUR_UPLOADS'))+\":\")]),_vm._l((_vm.files.models),function(file){return _c('div',{key:file.id,staticClass:\"mt-2\"},[_vm._v(\"\\n          \"+_vm._s(file.filename)+\"\\n\\n          \"),_c('vs-button',{staticClass:\"inline-block mr-2 float-right\",attrs:{\"size\":\"small\",\"type\":\"border\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.remove(file)}}}),_c('a',{staticClass:\"inline-block mr-2 float-right\",attrs:{\"href\":_vm.downloadLink + file.id,\"target\":\"_blank\"}},[_c('vs-button',{attrs:{\"size\":\"small\",\"type\":\"border\",\"icon\":\"cloud_download\"}})],1)],1)})],2)])],1):_vm._e(),(_vm.canEdit())?_c('div',{staticClass:\"vx-col sm:w-3/3 w-full ml-auto mt-5 text-right\"},[_c('vs-button',{staticClass:\"mr-3 mb-2\",on:{\"click\":_vm.editProfile}},[_vm._v(_vm._s(_vm.$t('USERS.EDIT_PROFILE')))]),_c('vs-button',{staticClass:\"mr-3 mb-2\",on:{\"click\":_vm.changePassword}},[_vm._v(_vm._s(_vm.$t('USERS.CHANGE_PASSWORD')))])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vx-row\">\r\n    <div class=\"vx-col md:w-1/3 w-full\">\r\n      <vx-card :title=\"$t('USERS.PERSONAL_DATA')\">\r\n        <div>\r\n          <h6>{{ $t('USERS.USERNAME') }}:</h6>\r\n          <p>{{ activeUser.username }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('USERS.EMAIL') }}:</h6>\r\n          <p>{{ activeUser.email }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('USERS.FIRST_NAME') }}:</h6>\r\n          <p>{{ activeUser.first_name }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('USERS.LAST_NAME') }}:</h6>\r\n          <p>{{ activeUser.last_name }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('USERS.PHONE') }}:</h6>\r\n          <p>{{ activeUser.phone }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('USERS.ADDRESS') }}:</h6>\r\n          <p>{{ activeUser.streetname }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('USERS.CITY') }}:</h6>\r\n          <p>{{ activeUser.cityname }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('USERS.ZIP') }}:</h6>\r\n          <p>{{ activeUser.cityzipcode }}</p>\r\n        </div>\r\n      </vx-card>\r\n    </div>\r\n    <div class=\"vx-col md:w-1/3 w-full\">\r\n      <vx-card :title=\"$t('USERS.ORGANIZATION_DATA')\">\r\n        <div>\r\n          <h6>{{ $t('ORGANIZATIONS.TITLE_SINGLE') }}:</h6>\r\n          <p>{{ activeUser.organization }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('SCHOOLS.TITLE_SINGLE') }}:</h6>\r\n          <p>{{ activeUser.school }}</p>\r\n        </div>\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('STUDY_PROGRAMS.TITLE_SINGLE') }}:</h6>\r\n          <template v-if=\"activeUser.studyprogram\">\r\n            <p>{{ activeUser.studyprogram.name }}</p>\r\n          </template>\r\n        </div>\r\n      </vx-card>\r\n    </div>\r\n\r\n    <div v-if=\"isStudent\" class=\"vx-col md:w-1/3 w-full\">\r\n      <vx-card :title=\"$t('USERS.FILE_UPLOADS')\">\r\n        <h6 class=\"mb-2\">{{ $t('USERS.UPLOAD_CV') }}:</h6>\r\n        <p>\r\n          <vue-dropzone\r\n            id=\"dropzone\"\r\n            ref=\"myDropzoneInstance\"\r\n            :options=\"dropzoneOptions\"\r\n            @vdropzone-success=\"sent\"\r\n            @vdropzone-error=\"error\"\r\n          />\r\n        </p>\r\n\r\n        <div class=\"mt-5\">\r\n          <h6>{{ $t('USERS.YOUR_UPLOADS') }}:</h6>\r\n\r\n          <div v-for=\"file in files.models\" :key=\"file.id\" class=\"mt-2\">\r\n            {{ file.filename }}\r\n\r\n            <vs-button\r\n              class=\"inline-block mr-2 float-right\"\r\n              size=\"small\"\r\n              type=\"border\"\r\n              icon=\"delete\"\r\n              @click=\"remove(file)\"\r\n            />\r\n            <a\r\n              :href=\"downloadLink + file.id\"\r\n              class=\"inline-block mr-2 float-right\"\r\n              target=\"_blank\"\r\n            >\r\n              <vs-button size=\"small\" type=\"border\" icon=\"cloud_download\" />\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </vx-card>\r\n    </div>\r\n\r\n    <div\r\n      v-if=\"canEdit()\"\r\n      class=\"vx-col sm:w-3/3 w-full ml-auto mt-5 text-right\"\r\n    >\r\n      <vs-button class=\"mr-3 mb-2\" @click=\"editProfile\">{{\r\n        $t('USERS.EDIT_PROFILE')\r\n      }}</vs-button>\r\n      <vs-button class=\"mr-3 mb-2\" @click=\"changePassword\">{{\r\n        $t('USERS.CHANGE_PASSWORD')\r\n      }}</vs-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vue2Dropzone from 'vue2-dropzone'\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\r\nimport { FileCollection } from '../../models/File'\r\nimport { Notification } from '../../models/Notification'\r\n\r\nexport default {\r\n  components: {\r\n    vueDropzone: vue2Dropzone\r\n  },\r\n\r\n  props: {\r\n    roles: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      files: new FileCollection(),\r\n      downloadLink: process.env.VUE_APP_API_URL + 'download/',\r\n      dropzoneOptions: {\r\n        url: process.env.VUE_APP_API_URL + 'uploadFile/USERS/1', // works despite 1 at the end\r\n        thumbnailWidth: 150,\r\n        maxFiles: 4,\r\n        withCredentials: true\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n\r\n  async mounted() {\r\n    await this.files.fetchUser()\r\n    this.$refs.myDropzoneInstance.setOption(\r\n      'maxFiles',\r\n      (this.dropzoneOptions.maxFiles -= this.files.models.length)\r\n    )\r\n  },\r\n  methods: {\r\n    remove(file) {\r\n      file.delete().then(() => {\r\n        this.$vs.notify({\r\n          color: 'success',\r\n          title: this.$t('GLOBALS.FILE_DELETED'),\r\n          text: this.$t('GLOBALS.FILE_SUCCESSFULLY_DELETED')\r\n        })\r\n        this.files.fetchUser()\r\n      })\r\n    },\r\n    editProfile() {\r\n      this.$router.push({ name: 'users-edit-profile' })\r\n    },\r\n    changePassword() {\r\n      this.$router.push({ name: 'users-change-password' })\r\n    },\r\n    canEdit() {\r\n      return !this.activeUser.jwt\r\n    },\r\n\r\n    sent() {\r\n      this.files.fetchUser()\r\n      this.$vs.notify({\r\n        color: 'success',\r\n        title: this.$t('GLOBALS.FILE_UPLOADED'),\r\n        text: this.$t('GLOBALS.FILE_SUCCESSFULLY_UPLOADED')\r\n      })\r\n    },\r\n    error() {\r\n      this.$vs.notify({\r\n        color: 'danger',\r\n        title: this.$t('GLOBALS.ERROR_ON_UPLOAD')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=2da4b29e&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}