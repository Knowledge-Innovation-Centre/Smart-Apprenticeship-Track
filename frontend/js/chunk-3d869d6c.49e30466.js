(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d869d6c"],{"050e":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full mb-base"},[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col md:w-1/2 w-full mb-base"},[s("vx-card",{attrs:{title:t.$t("GLOBALS.DETAILS")}},[t._l(t.studyProgramObject.fieldsSettings(),(function(e,i){return[t.isVisible(e)?["select"===e.type?s("v-select-box",{key:i,attrs:{settings:e,object:t.studyProgramObject,disabled:!t.can("create","StudyProgram"),field:i}}):"subForm"===e.type?s("v-sub-form",{key:i,attrs:{object:t.studyProgramObject,disabled:!t.can("create","StudyProgram"),field:i}}):"textarea"===e.type?s("v-text-area",{key:i,attrs:{object:t.studyProgramObject,disabled:!t.can("create","StudyProgram"),field:i}}):s("v-text-box",{key:i,attrs:{object:t.studyProgramObject,disabled:!t.can("create","StudyProgram"),field:i}})]:t._e()]}))],2)],1),s("div",{staticClass:"vx-col md:w-1/2 w-full mb-base"},[s("vx-card",{attrs:{title:t.$t("COMPETENCES.TITLE")}},[t._l(t.studyCompetences.models,(function(e,i){return s("div",{key:i},[s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col sm:w-2/3 w-full"},[s("v-text-box",{attrs:{object:e,field:"name"}})],1),s("div",{staticClass:"vx-col sm:w-1/3 w-full"},[s("vs-button",{staticClass:"float-right",attrs:{size:"small",type:"border",icon:"delete"},on:{click:function(s){return t.removeStudyCompetence(e)}}})],1)]),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-full"},[s("v-text-area",{attrs:{object:e,field:"description"}})],1)]),s("vs-divider")],1)})),s("div",{staticClass:"vx-row mt-5"},[s("div",{staticClass:"vx-col w-full ml-auto"},[s("vs-button",{staticClass:"mb-2 float-right",attrs:{type:"border"},on:{click:t.addEmptyStudyCompetence}},[t._v("\n                Add competence\n              ")])],1)])],2)],1)]),s("vs-divider"),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full mb-base"},[s("h3",{staticClass:"m-3"},[t._v(t._s(t.$t("STUDY_MODULES.TITLE")))]),t._l(t.studyModules.models,(function(e,i){return s("div",{key:i,staticClass:"vx-row"},[s("div",{staticClass:"vx-col md:w-1/2 w-full mb-base"},[s("vx-card",{attrs:{title:t.$t("GLOBALS.DETAILS")}},[s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col sm:w-2/3 w-full"},[s("v-text-box",{attrs:{object:e,field:"name"}})],1),s("div",{staticClass:"vx-col sm:w-1/3 w-full"},[s("vs-button",{staticClass:"float-right",attrs:{size:"small",type:"border",icon:"delete"},on:{click:function(s){return t.removeStudyModule(e)}}})],1)]),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-full"},[s("v-text-area",{attrs:{object:e,field:"description"}})],1)])])],1),s("div",{staticClass:"vx-col md:w-1/2 w-full mb-base"},[s("vx-card",{attrs:{title:t.$t("COMPETENCES.TITLE")}},[t._l(e.studyCompetences.models,(function(i,a){return s("div",{key:a},[s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col  sm:w-2/3 w-full"},[s("vs-input",{staticClass:"w-full",attrs:{label:t.$t("GLOBALS.NAME"),type:"text"},model:{value:i.name,callback:function(e){t.$set(i,"name",e)},expression:"studyCompetence.name"}})],1),s("div",{staticClass:"vx-col  sm:w-1/3 w-full"},[s("vs-button",{staticClass:"float-right",attrs:{size:"small",type:"border",icon:"delete"},on:{click:function(s){return t.removeStudyCompetenceInModule(e,i)}}})],1)]),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-full"},[s("v-text-area",{attrs:{object:i,field:"description"}})],1)]),s("vs-divider")],1)})),s("div",{staticClass:"vx-row mt-5"},[s("div",{staticClass:"vx-col w-full text-right ml-auto"},[s("vs-button",{on:{click:function(s){return t.addEmptyStudyModuleCompetence(e)}}},[t._v("\n                    Add competence\n                  ")])],1)])],2)],1)])}))],2)]),s("div",{staticClass:"vx-row mt-5"},[s("div",{staticClass:"vx-col w-full text-right ml-auto"},[s("vs-button",{staticClass:"mb-2 float-right",on:{click:t.addEmptyStudyModule}},[t._v("\n          Add Module\n        ")])],1)]),s("vs-divider"),s("div",{staticClass:"vx-row mt-5"},[s("div",{staticClass:"vx-col text-right w-full ml-auto"},[s("vs-button",{staticClass:"mr-3 mb-2",on:{click:t.submit}},[t._v(t._s(t.$t("GLOBALS.SUBMIT")))])],1)])],1)])},a=[],l=(s("ac4d"),s("8a81"),s("ac6a"),s("7514"),s("96cf"),s("3b8d")),n=(s("c5f6"),s("7550")),r=s("18c6"),o=s("2bcd"),d=s("ff59"),c=s("42bb"),u=s("f5c3"),v=s("6dd0"),m={components:{VTextBox:r["a"],VSelectBox:o["a"],VSubForm:d["a"],VTextArea:c["a"]},props:{studyProgram:{type:Object,default:function(){return new n["a"]}},id:{type:[Number,String],default:function(){return null}}},data:function(){return{studyProgramObject:this.studyProgram,studyCompetences:new u["b"],studyModules:new v["b"]}},mounted:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,s,i,a,l,r,o,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.studyProgramObject.id||!this.id){t.next=5;break}return e=new n["b"],t.next=4,e.fetch();case 4:this.studyProgramObject=e.find((function(t){return t.id===parseInt(d.id)}));case 5:for(this.studyCompetences=new u["b"](this.studyProgramObject.studyCompetences),this.studyModules=new v["b"](this.studyProgramObject.studyModules),s=!0,i=!1,a=void 0,t.prev=10,l=this.studyModules.models[Symbol.iterator]();!(s=(r=l.next()).done);s=!0)o=r.value,o.studyCompetences=new u["b"](o.studyCompetences);t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](10),i=!0,a=t.t0;case 18:t.prev=18,t.prev=19,s||null==l.return||l.return();case 21:if(t.prev=21,!i){t.next=24;break}throw a;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[10,14,18,26],[19,,21,25]])})));function e(){return t.apply(this,arguments)}return e}(),methods:{isVisible:function(t){return this.studyProgramObject.id?t.showOnUpdate:t.showOnCreate},addEmptyStudyCompetence:function(){this.studyCompetences.add(new u["a"]),this.studyCompetences=new u["b"](this.studyCompetences.models)},addEmptyStudyModule:function(){var t=new v["a"];t.studyCompetences=new u["b"],this.studyModules.add(t),this.studyModules=new v["b"](this.studyModules.models)},addEmptyStudyModuleCompetence:function(t){t.studyCompetences.add(new u["a"]),t.studyCompetences=new u["b"](t.studyCompetences.models)},removeStudyModule:function(t){this.studyModules.remove(t),this.studyModules=new v["b"](this.studyModules.models)},removeStudyCompetence:function(t){this.studyCompetences.remove(t),this.studyCompetences=new u["b"](this.studyCompetences.models)},removeStudyCompetenceInModule:function(t,e){t.studyCompetences.remove(e),t.studyCompetences=new u["b"](t.studyCompetences.models)},submit:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.studyProgramObject.studyCompetences=this.studyCompetences,this.studyProgramObject.studyModules=this.studyModules,e="save",this.studyProgramObject.id&&(e="patch"),this.studyProgramObject[e]().then((function(){s.$router.push({name:"study-programs"}),s.$vs.notify({color:"success",title:s.$t("GLOBALS.RECORD_CREATED"),text:s.$t("GLOBALS.RECORD_SUCCESSFULLY_CREATED")})})).catch((function(t){s.showValidationErrors(s.studyProgramObject),s.$vs.notify({color:"danger",title:s.$t("GLOBALS.ERROR_ON_SAVE"),text:t.message})}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},f=m,b=s("2877"),p=Object(b["a"])(f,i,a,!1,null,null,null);e["default"]=p.exports},1290:function(t,e,s){},"42bb":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-full"},[s("label",{staticClass:"vs-input--label"},[t._v("\n      "+t._s(t.getLabel)+"\n    ")])]),s("div",{staticClass:"vx-col w-full"},[t.normalTextearea?s("vs-textarea",{staticClass:"w-full height-300",attrs:{danger:t.hasErrors(t.object,t.field),"danger-text":t.errorText(t.object,t.field),type:t.fieldSettings.type,disabled:t.disabled,height:"300px"},model:{value:t.object[t.field],callback:function(e){t.$set(t.object,t.field,e)},expression:"object[field]"}}):s("quill-editor",{staticStyle:{"min-height":"300px"},style:t.hasErrors(t.object,t.field)?"border: 1px solid rgba(var(--vs-danger),1) !important":"",attrs:{options:t.quillOptions,disabled:t.disabled,"danger-text":t.errorText(t.object,t.field)},model:{value:t.object[t.field],callback:function(e){t.$set(t.object,t.field,e)},expression:"object[field]"}}),s("div",[s("div",{staticClass:"con-text-validation span-text-validation-danger vs-input--text-validation-span v-enter-to",staticStyle:{height:"20px"}},[s("span",{staticClass:"span-text-validation"},[t._v("\n          "+t._s(t.errorText(t.object,t.field))+"\n        ")])])])],1)])},a=[],l=(s("a753"),s("8096"),s("14e1"),s("953d")),n=(s("a46f"),{name:"VTextArea",components:{quillEditor:l["quillEditor"]},props:{object:{type:Object,required:!0},label:{type:String,default:null},field:{type:String,required:!0},normalTextearea:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},computed:{fieldSettings:function(){return this.object.fieldsSettings()[this.field]},getLabel:function(){var t="";return t=this.label?this.label:this.fieldSettings.label,t=this.$t(t),this.isRequired&&(t+="*"),t},isRequired:function(){return!!this.object.validation()[this.field]}}}),r=n,o=(s("ac89"),s("2877")),d=Object(o["a"])(r,i,a,!1,null,"44af632e",null);e["a"]=d.exports},ac89:function(t,e,s){"use strict";var i=s("1290"),a=s.n(i);a.a},ff59:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col sm:w-1/3 w-full"},[s("span",[t._v(t._s(t.getLabel))])]),s("div",{staticClass:"vx-col sm:w-2/3 w-full"})])},a=[],l=(s("ac6a"),s("a46f")),n={name:"VSubForm",props:{object:{type:Object,required:!0},label:{type:String,default:null},field:{type:String,required:!0}},data:function(){return{displayField:"name",fieldKey:"id",values:[]}},computed:{fieldSettings:function(){return this.object.fieldsSettings()[this.field]},getLabel:function(){return this.label?this.label:this.fieldSettings.label},isCollection:function(){return this.fieldSettings.values instanceof l["a"]}},mounted:function(){if(Array.isArray(this.fieldSettings.values)&&(this.values=this.fieldSettings.values),this.isCollection){this.values=this.fieldSettings.values;var t=this.values.model();t=new t,this.fieldKey=t.getOptions().identifier,this.displayField=t.displayField(),this.values.fetch()}}},r=n,o=s("2877"),d=Object(o["a"])(r,i,a,!1,null,null,null);e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-3d869d6c.49e30466.js.map