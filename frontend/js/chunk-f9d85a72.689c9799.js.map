{"version":3,"sources":["webpack:///./src/models/Grade.js","webpack:///./src/models/AgreementArticle.js","webpack:///./src/models/InternshipAgreement.js","webpack:///./src/models/TemplateArticle.js","webpack:///./src/views/internship-agreements/Form.vue?81ab","webpack:///src/views/internship-agreements/Form.vue","webpack:///./src/views/internship-agreements/Form.vue?f7a6","webpack:///./src/views/internship-agreements/Form.vue"],"names":["Grade","id","internshipAgreement","studyCompetence","grade","grate_text","mentor","identifier","useFirstErrorOnly","label","type","showInList","showOnCreate","showOnUpdate","values","InternshipAgreementCollection","StudyCompetenceCollection","UserCollection","fetch","save","patch","delete","BaseModel","GradeCollection","orderBy","models","this","model","push","config","url","method","data","createRequest","send","internshipAgreementId","then","response","replace","catch","error","BaseCollection","AgreementArticle","school_id","store","state","AppActiveUser","school","ordnum","content","version_num","pinned","width","SchoolKeyCollection","required","AgreementArticleCollection","InternshipAgreement","document_number","organization","student","school_organizer","periodBegin","periodEnd","studyProgram","grade_final","grade_exam","ects_points","sum_of_hours","articles","competences","signed_student_username","signed_student_date","signed_school_username","signed_school_date","signed_organization_username","signed_organization_date","showInView","EnterpriseCollection","filter","filterRole","StudyProgramCollection","showInSignature","value","length","getFiles","signStudent","signSchool","signOrganization","signInternshipAgreement","organizationUser","schoolUser","internship_agreement","username","fetchUnsigned","fetchUnsignedStudent","fetchStudent","fetchUnsignedOrganization","fetchOrganization","fetchSchool","TemplateArticle","TemplateArticleCollection","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","$t","_l","internshipAgreementObject","fieldsSettings","settings","key","isVisible","_e","hasErrors","errorText","callback","$$v","selectedCompetences","expression","studyCompetences","item","name","_v","_s","article","index","on","$event","move","staticStyle","quillOptions","$set","removeArticle","addEmptyArticle","submit","staticRenderFns","components","VTextBox","VSelectBox","quillEditor","props","Object","default","Number","String","StudyCompetence","articlesHasError","competencesHasError","grades","methods","getStudyCompetencesFromStudyProgram","studyModules","competence","studyModule","new_index","arr","k","undefined","splice","old_index","console","log","isSignatureVisible","add","$forceUpdate","action","remove","file","editStudentQuestions","$router","params","component"],"mappings":"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","file":"js/chunk-f9d85a72.689c9799.js","sourcesContent":["import BaseModel from './BaseModel'\nimport BaseCollection from './BaseCollection'\nimport { EnterpriseCollection } from './Enterprise'\nimport { InternshipAgreementCollection } from './InternshipAgreement'\nimport { StudyCompetenceCollection } from './StudyCompetence'\nimport { UserCollection } from './User'\n\nexport class Grade extends BaseModel {\n  // Default attributes that define the \"empty\" state.\n  defaults() {\n    return {\n      id: null,\n      internshipAgreement: null,\n      studyCompetence: null,\n      grade: null,\n      grate_text: null,\n      mentor: null\n    }\n  }\n\n  options() {\n    return {\n      identifier: 'id',\n      useFirstErrorOnly: true\n    }\n  }\n\n  displayField() {\n    return 'grade'\n  }\n\n  // Attribute mutations.\n  mutations() {\n    return {}\n  }\n\n  //\n  fieldsSettings() {\n    return {\n      internshipAgreement: {\n        label: 'INTERNSHIP_AGREEMENTS.TITLE_SINGLE',\n        type: 'select',\n        showInList: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        values: new InternshipAgreementCollection()\n      },\n      studyCompetence: {\n        label: 'COMPETENCES.TITLE_SINGLE',\n        type: 'select',\n        showInList: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        values: new StudyCompetenceCollection()\n      },\n\n      grade: {\n        label: 'GRADES.TITLE_SINGLE',\n        type: 'integer',\n        showInList: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n\n      grate_text: {\n        label: 'GLOBALS.GRADE_DESCRIPTION',\n        type: 'textarea',\n        showInList: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n\n      mentor: {\n        label: 'USERS.TITLE_SINGLE',\n        type: 'select',\n        showInList: false,\n        showOnCreate: true,\n        showOnUpdate: true,\n        values: new UserCollection()\n      }\n    }\n  }\n  // Attribute validation\n  validation() {\n    return {}\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/editGrade/{id}',\n      save: '/createGrade',\n      patch: '/editGrade',\n      delete: '/deleteGrade/{id}'\n    }\n  }\n}\n\nexport class GradeCollection extends BaseCollection {\n  // Model that is contained in this collection.\n  model() {\n    return Grade\n  }\n\n  // Default attributes\n  defaults() {\n    return {\n      orderBy: 'id'\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/getGrades/',\n      save: '/storeGrades/'\n    }\n  }\n\n  save() {\n    let models = []\n    for (let model of this.models) {\n      model.grate_text = 'ocenjeno'\n      models.push(model)\n    }\n    let config = {\n      url: '/storeGrades/',\n      method: 'POST',\n      data: models\n      // params\n      // headers\n    }\n\n    return this.createRequest(config).send()\n  }\n  fetch(internshipAgreementId) {\n    let config = {\n      url: '/getGrades/' + internshipAgreementId,\n      method: 'GET'\n      // data\n      // params\n      // headers\n    }\n\n    return this.createRequest(config)\n      .send()\n      .then(response => {\n        this.replace(response.response.data)\n      })\n      .catch(error => {\n        // Handle failure here\n      })\n  }\n}\n","import BaseModel from './BaseModel'\nimport BaseCollection from './BaseCollection'\nimport { required } from 'vue-mc/validation'\nimport { SchoolKeyCollection } from './SchoolKey'\nimport store from '../store/store.js'\n\nexport class AgreementArticle extends BaseModel {\n  // Default attributes that define the \"empty\" state.\n  defaults() {\n    return {\n      id: null,\n      school_id: store.state.AppActiveUser.school,\n      ordnum: null,\n      content: null,\n      version_num: null\n    }\n  }\n\n  options() {\n    return {\n      identifier: 'id',\n      useFirstErrorOnly: true\n    }\n  }\n\n  displayField() {\n    return 'ordnum'\n  }\n\n  // Attribute mutations.\n  mutations() {\n    return {}\n  }\n\n  //\n  fieldsSettings() {\n    return {\n      id: {\n        label: 'GLOBALS.ID',\n        type: 'text',\n        showInList: true,\n        showOnCreate: false,\n        showOnUpdate: false,\n        pinned: 'left',\n        width: 100\n      },\n      school_id: {\n        label: 'SCHOOL_KEY.TITLE_SINGLE',\n        type: 'select',\n        showInList: true,\n        showOnCreate: false,\n        showOnUpdate: false,\n        values: new SchoolKeyCollection()\n      },\n      ordnum: {\n        label: 'GLOBALS.ORDER_NUMBER',\n        type: 'text',\n        showInList: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n      version_num: {\n        label: 'GLOBALS.VERSION_NUMBER',\n        type: 'text',\n        showInList: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n      content: {\n        label: 'GLOBALS.CONTENT',\n        type: 'textarea',\n        showInList: false,\n        showOnCreate: true,\n        showOnUpdate: true\n      }\n    }\n  }\n  // Attribute validation\n  validation() {\n    return {\n      school_id: required\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/editAgreementArticle/{id}',\n      save: '/createAgreementArticle',\n      patch: '/editAgreementArticle',\n      delete: '/deleteAgreementArticle/{id}'\n    }\n  }\n}\n\nexport class AgreementArticleCollection extends BaseCollection {\n  // Model that is contained in this collection.\n  model() {\n    return AgreementArticle\n  }\n\n  // Default attributes\n  defaults() {\n    return {\n      orderBy: 'id'\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/listAgreementArticles'\n    }\n  }\n}\n","import BaseModel from './BaseModel'\nimport BaseCollection from './BaseCollection'\nimport { UserCollection } from './User'\nimport { SchoolKeyCollection } from './SchoolKey'\nimport { StudyProgramCollection } from './StudyProgram'\nimport { AgreementArticleCollection } from './AgreementArticle'\nimport { StudyCompetenceCollection } from './StudyCompetence'\nimport { SchoolCollection } from './School'\nimport { EnterpriseCollection } from './Enterprise'\nimport { required } from 'vue-mc/validation'\nimport store from '../store/store'\n\nexport class InternshipAgreement extends BaseModel {\n  // Default attributes that define the \"empty\" state.\n  defaults() {\n    return {\n      id: null,\n      document_number: null,\n      organization: null,\n      student: null,\n      mentor: null,\n      school_organizer: null,\n      periodBegin: null,\n      periodEnd: null,\n      studyProgram: null,\n      school_id: store.state.AppActiveUser.school,\n      version_num: null,\n      grade_final: null,\n      grade_exam: null,\n      ects_points: null,\n      sum_of_hours: null,\n      articles: [],\n      competences: [],\n      signed_student_username: null,\n      signed_student_date: null,\n      signed_school_username: null,\n      signed_school_date: null,\n      signed_organization_username: null,\n      signed_organization_date: null\n    }\n  }\n\n  options() {\n    return {\n      identifier: 'id',\n      useFirstErrorOnly: true\n    }\n  }\n\n  displayField() {\n    return 'id'\n  }\n\n  // Attribute mutations.\n  mutations() {\n    return {}\n  }\n\n  //\n  fieldsSettings() {\n    return {\n      id: {\n        label: 'GLOBALS.ID',\n        type: 'text',\n        showInList: true,\n        showInView: false,\n        showOnCreate: false,\n        showOnUpdate: false,\n        width: 100,\n        pinned: 'left'\n      },\n\n      document_number: {\n        label: 'GLOBALS.DOCUMENT_NUMBER',\n        type: 'text',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        pinned: 'left'\n      },\n      organization: {\n        label: 'ENTERPRISES.TITLE_SINGLE',\n        type: 'select',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        values: new EnterpriseCollection(),\n        filter: true\n      },\n      student: {\n        label: 'USERS.STUDENT',\n        type: 'select',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        values: new UserCollection(),\n        filterRole: 'ROLE_STUDENT'\n      },\n      mentor: {\n        label: 'USERS.MENTOR',\n        type: 'select',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        values: new UserCollection(),\n        filterRole: 'ROLE_MENTOR'\n      },\n      school_organizer: {\n        label: 'USERS.SCHOOL_ORGANIZER',\n        type: 'select',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        values: new UserCollection(),\n        filterRole: 'ROLE_SCHOOLORG'\n      },\n\n      periodBegin: {\n        label: 'GLOBALS.BEGIN',\n        type: 'date',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n      periodEnd: {\n        label: 'GLOBALS.END',\n        type: 'date',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n\n      studyProgram: {\n        label: 'STUDY_PROGRAMS.TITLE_SINGLE',\n        type: 'select',\n        showInList: false,\n        showInView: false,\n        showOnCreate: true,\n        showOnUpdate: true,\n        values: new StudyProgramCollection()\n      },\n      school_id: {\n        label: 'SCHOOL_KEYS.TITLE_SINGLE',\n        type: 'select',\n        showInList: false,\n        showInView: false,\n        showOnCreate: false,\n        showOnUpdate: false,\n        values: new SchoolKeyCollection()\n      },\n      grade_exam: {\n        label: 'GLOBALS.GRADE_EXAM',\n        type: 'integer',\n        showInList: false,\n        showInView: true,\n        showOnCreate: false,\n        showOnUpdate: true\n      },\n      grade_final: {\n        label: 'GLOBALS.GRADE_FINAL',\n        type: 'integer',\n        showInList: false,\n        showInView: true,\n        showOnCreate: false,\n        showOnUpdate: true\n      },\n      sum_of_hours: {\n        label: 'GLOBALS.SUM_OF_HOURS',\n        type: 'integer',\n        showInList: false,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n      ects_points: {\n        label: 'GLOBALS.ECTS_POINTS',\n        type: 'integer',\n        showInList: false,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true\n      },\n      version_num: {\n        label: 'GLOBALS.VERSION_NUMBER',\n        type: 'integer',\n        showInList: true,\n        showInView: true,\n        showOnCreate: false,\n        showOnUpdate: false\n      },\n\n      articles: {\n        label: 'ARTICLES.TITLE',\n        type: 'select',\n        showInList: false,\n        showInView: false,\n        showOnCreate: false,\n        showOnUpdate: false,\n        values: new AgreementArticleCollection()\n      },\n\n      competences: {\n        label: 'COMPETENCES.TITLE',\n        type: 'select',\n        showInList: false,\n        showInView: false,\n        showOnCreate: false,\n        showOnUpdate: false,\n        values: new StudyCompetenceCollection()\n      },\n\n      signed_student_username: {\n        label: 'GLOBALS.SIGNED_STUDENT',\n        type: 'text',\n        showInList: false,\n        showInView: false,\n        showInSignature: true,\n        showOnCreate: false,\n        showOnUpdate: false\n      },\n\n      signed_student_date: {\n        label: 'GLOBALS.SIGNED_STUDENT_DATE',\n        type: 'date',\n        showInList: false,\n        showInView: false,\n        showInSignature: true,\n        showOnCreate: false,\n        showOnUpdate: false\n      },\n      signed_school_username: {\n        label: 'GLOBALS.SIGNED_SCHOOL',\n        type: 'text',\n        showInList: false,\n        showInView: false,\n        showInSignature: true,\n        showOnCreate: false,\n        showOnUpdate: false\n      },\n\n      signed_school_date: {\n        label: 'GLOBALS.SIGNED_SCHOOL_DATE',\n        type: 'date',\n        showInList: false,\n        showInView: false,\n        showInSignature: true,\n        showOnCreate: false,\n        showOnUpdate: false\n      },\n      signed_organization_username: {\n        label: 'GLOBALS.SIGNED_ORGANIZATION',\n        type: 'text',\n        showInList: false,\n        showInView: false,\n        showInSignature: true,\n        showOnCreate: false,\n        showOnUpdate: false\n      },\n\n      signed_organization_date: {\n        label: 'GLOBALS.SIGNED_ORGANIZATION_DATE',\n        type: 'date',\n        showInList: false,\n        showInView: false,\n        showInSignature: true,\n        showOnCreate: false,\n        showOnUpdate: false\n      }\n    }\n  }\n\n  // Attribute validation\n  validation() {\n    return {\n      organization: required,\n      student: required,\n      studyProgram: required,\n      competences: value => {\n        if (!value || !value.length) {\n          return 'required.'\n        }\n        return\n      },\n      articles: value => {\n        if (!value || !value.length) {\n          return 'This field is required.'\n        }\n        return\n      }\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/editInternshipAgreement/{id}',\n      save: '/createInternshipAgreement',\n      patch: '/editInternshipAgreement',\n      delete: '/deleteInternshipAgreement/{id}',\n      getFiles: '/getFiles',\n      signStudent: '/signStudent',\n      signSchool: '/signSchool',\n      signOrganization: '/signOrganization',\n      signInternshipAgreement: '/signInternshipAgreement'\n    }\n  }\n\n  getFiles() {\n    let config = {\n      url: '/getInternshipAgreementFiles/' + this.id,\n      method: 'GET'\n      // data\n      // params\n      // headers\n    }\n\n    return this.createRequest(config).send()\n  }\n\n  signStudent() {\n    let config = {\n      url: '/signStudentInternshipAgreements/' + this.id,\n      method: 'GET'\n    }\n\n    return this.createRequest(config).send()\n  }\n\n  signSchool() {\n    let config = {\n      url: '/signSchoolInternshipAgreements/' + this.id,\n      method: 'GET'\n    }\n\n    return this.createRequest(config).send()\n  }\n\n  signOrganization() {\n    let config = {\n      url: '/signOrganizationInternshipAgreements/' + this.id,\n      method: 'GET'\n    }\n\n    return this.createRequest(config).send()\n  }\n  signInternshipAgreement(student, organizationUser, schoolUser) {\n    let config = {\n      url: '/signInternshipAgreement/',\n      method: 'POST',\n      data: {\n        internship_agreement: {\n          id: this.id\n        },\n        signed_student_username: student.username,\n        signed_school_username: schoolUser.username,\n        signed_organization_username: organizationUser.username\n      }\n    }\n\n    return this.createRequest(config).send()\n  }\n}\n\nexport class InternshipAgreementCollection extends BaseCollection {\n  // Model that is contained in this collection.\n  model() {\n    return InternshipAgreement\n  }\n\n  // Default attributes\n  defaults() {\n    return {\n      orderBy: 'id'\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/listInternshipAgreements',\n      fetchUnsigned: '/listUnsignedInternshipAgreements',\n      fetchUnsignedStudent: '/listUnsignedStudentInternshipAgreements',\n      fetchStudent: '/listStudentInternshipAgreements',\n      fetchUnsignedOrganization:\n        '/listUnsignedOrganizationInternshipAgreements',\n      fetchOrganization: '/listOrganizationInternshipAgreements',\n      fetchSchool: '/listSchoolInternshipAgreements'\n    }\n  }\n\n  fetchStudent() {\n    let config = {\n      url: '/listStudentInternshipAgreements',\n      method: 'GET'\n    }\n\n    return this.createRequest(config)\n      .send()\n      .then(response => {\n        this.replace(response.response.data)\n      })\n      .catch(error => {\n        // Handle failure here\n      })\n  }\n\n  fetchOrganization() {\n    let config = {\n      url: '/listOrganizationInternshipAgreements',\n      method: 'GET'\n    }\n\n    return this.createRequest(config)\n      .send()\n      .then(response => {\n        this.replace(response.response.data)\n      })\n      .catch(error => {\n        // Handle failure here\n      })\n  }\n\n  fetchUnsignedStudent() {\n    let config = {\n      url: '/listUnsignedStudentInternshipAgreements',\n      method: 'GET'\n    }\n\n    return this.createRequest(config)\n      .send()\n      .then(response => {\n        this.replace(response.response.data)\n      })\n      .catch(error => {\n        // Handle failure here\n      })\n  }\n\n  fetchUnsignedOrganization() {\n    let config = {\n      url: '/listUnsignedOrganizationInternshipAgreements',\n      method: 'GET'\n    }\n\n    return this.createRequest(config)\n      .send()\n      .then(response => {\n        this.replace(response.response.data)\n      })\n      .catch(error => {\n        // Handle failure here\n      })\n  }\n\n  fetchUnsigned() {\n    let config = {\n      url: '/listUnsignedInternshipAgreements',\n      method: 'GET'\n    }\n\n    return this.createRequest(config)\n      .send()\n      .then(response => {\n        this.replace(response.response.data)\n      })\n      .catch(error => {\n        // Handle failure here\n      })\n  }\n}\n","import BaseModel from './BaseModel'\nimport BaseCollection from './BaseCollection'\nimport { required } from 'vue-mc/validation'\nimport { SchoolKeyCollection } from './SchoolKey'\n\nexport class TemplateArticle extends BaseModel {\n  // Default attributes that define the \"empty\" state.\n  defaults() {\n    return {\n      id: null,\n      school_id: null,\n      ordnum: null,\n      content: null\n    }\n  }\n\n  options() {\n    return {\n      identifier: 'id',\n      useFirstErrorOnly: true\n    }\n  }\n\n  displayField() {\n    return 'ordnum'\n  }\n\n  // Attribute mutations.\n  mutations() {\n    return {}\n  }\n\n  //\n  fieldsSettings() {\n    return {\n      id: {\n        label: 'GLOBALS.ID',\n        type: 'text',\n        showInList: true,\n        showInView: false,\n        showOnCreate: false,\n        showOnUpdate: false,\n        pinned: 'left',\n        width: 100\n      },\n      school_id: {\n        label: 'SCHOOL_KEYS.TITLE_SINGLE',\n        type: 'select',\n        showInList: false,\n        showInView: false,\n        showOnCreate: false,\n        showOnUpdate: false,\n        values: new SchoolKeyCollection()\n      },\n      ordnum: {\n        label: 'GLOBALS.ORDER_NUMBER',\n        type: 'text',\n        showInList: true,\n        showInView: true,\n        showOnCreate: false,\n        showOnUpdate: false\n      },\n      content: {\n        label: 'GLOBALS.CONTENT',\n        type: 'textarea',\n        showInList: true,\n        showInView: true,\n        showOnCreate: true,\n        showOnUpdate: true,\n        width: 500\n      }\n    }\n  }\n  // Attribute validation\n  validation() {\n    return {\n      // school_id: required\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/editTemplateArticle/{id}',\n      save: '/createTemplateArticle',\n      patch: '/editTemplateArticle',\n      delete: '/deleteTemplateArticle/{id}'\n    }\n  }\n}\n\nexport class TemplateArticleCollection extends BaseCollection {\n  // Model that is contained in this collection.\n  model() {\n    return TemplateArticle\n  }\n\n  // Default attributes\n  defaults() {\n    return {\n      orderBy: 'id'\n    }\n  }\n\n  // Route configuration\n  routes() {\n    return {\n      fetch: '/listTemplateArticles'\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-3/3 w-full mb-base\"},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/2 w-full mb-base\"},[_c('vx-card',{attrs:{\"title\":_vm.$t('GLOBALS.DETAILS')}},[_vm._l((_vm.internshipAgreementObject.fieldsSettings()),function(settings,key){return [(_vm.isVisible(settings))?[(settings.type === 'select')?_c('v-select-box',{key:key,attrs:{\"settings\":settings,\"object\":_vm.internshipAgreementObject,\"field\":key}}):_c('v-text-box',{key:key,attrs:{\"object\":_vm.internshipAgreementObject,\"field\":key}})]:_vm._e()]}),_c('div',{staticClass:\"vx-row mb-6\"},[_c('div',{staticClass:\"vx-col  w-full\"},[_c('vs-select',{staticClass:\"w-full\",attrs:{\"danger\":_vm.hasErrors(_vm.internshipAgreementObject, 'competences'),\"danger-text\":_vm.errorText(_vm.internshipAgreementObject, 'competences'),\"label\":_vm.$t('STUDY_COMPETENCES.TITLE'),\"multiple\":true,\"autocomplete\":\"\"},model:{value:(_vm.selectedCompetences),callback:function ($$v) {_vm.selectedCompetences=$$v},expression:\"selectedCompetences\"}},_vm._l((_vm.studyCompetences.models),function(item){return _c('vs-select-item',{key:item.id,attrs:{\"value\":item.id,\"text\":item.name}})}),1)],1)])],2)],1)])]),_c('div',{staticClass:\"vx-col md:w-3/3 w-full mb-base\"},[_c('vx-card',{attrs:{\"title\":_vm.$t('ARTICLES.TITLE')}},[(_vm.articlesHasError)?_c('span',[_vm._v(_vm._s(_vm.errorText(_vm.articles)))]):_vm._e(),_vm._l((_vm.articles.models),function(article,index){return _c('div',{key:index},[_c('div',{staticClass:\"vx-row  mb-6\"},[_c('div',{staticClass:\"vx-col  sm:w-1/12\"},[(index > 0)?_c('vs-button',{staticClass:\"float-right\",attrs:{\"size\":\"small\",\"type\":\"border\",\"icon\":\"arrow_upward\"},on:{\"click\":function($event){return _vm.move(index, index - 1)}}}):_vm._e(),(index < _vm.articles.models.length - 1)?_c('vs-button',{staticClass:\"float-right\",attrs:{\"size\":\"small\",\"type\":\"border\",\"icon\":\"arrow_downward\"},on:{\"click\":function($event){return _vm.move(index, index + 1)}}}):_vm._e()],1),_c('div',{staticClass:\"vx-col md:w-10/12\"},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('GLOBALS.CONTENT'))+\"\\n            \")]),_c('quill-editor',{staticStyle:{\"min-height\":\"100px\"},attrs:{\"options\":_vm.quillOptions},model:{value:(article.content),callback:function ($$v) {_vm.$set(article, \"content\", $$v)},expression:\"article.content\"}})],1),_c('div',{staticClass:\"vx-col  sm:w-1/12\"},[_c('vs-button',{staticClass:\"float-right\",attrs:{\"size\":\"small\",\"type\":\"border\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeArticle(article)}}})],1)]),_c('vs-divider')],1)}),_c('div',{staticClass:\"vx-row mt-5\"},[_c('div',{staticClass:\"vx-col w-full text-right ml-auto\"},[_c('vs-button',{on:{\"click\":function($event){return _vm.addEmptyArticle()}}},[_vm._v(\"\\n            Add article\\n          \")])],1)])],2)],1),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col sm:w-2/3 w-full ml-auto\"},[_c('vs-button',{staticClass:\"mr-3 mb-2\",on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.$t('GLOBALS.SUBMIT')))])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vx-row\">\r\n    <div class=\"vx-col md:w-3/3 w-full mb-base\">\r\n      <div class=\"vx-row\">\r\n        <div class=\"vx-col md:w-1/2 w-full mb-base\">\r\n          <vx-card :title=\"$t('GLOBALS.DETAILS')\">\r\n            <template\r\n              v-for=\"(settings,\r\n              key) in internshipAgreementObject.fieldsSettings()\"\r\n            >\r\n              <template v-if=\"isVisible(settings)\">\r\n                <v-select-box\r\n                  v-if=\"settings.type === 'select'\"\r\n                  :key=\"key\"\r\n                  :settings=\"settings\"\r\n                  :object=\"internshipAgreementObject\"\r\n                  :field=\"key\"\r\n                />\r\n                <v-text-box\r\n                  v-else\r\n                  :key=\"key\"\r\n                  :object=\"internshipAgreementObject\"\r\n                  :field=\"key\"\r\n                />\r\n              </template>\r\n            </template>\r\n            <div class=\"vx-row mb-6\">\r\n              <div class=\"vx-col  w-full\">\r\n                <vs-select\r\n                  v-model=\"selectedCompetences\"\r\n                  :danger=\"hasErrors(internshipAgreementObject, 'competences')\"\r\n                  :danger-text=\"\r\n                    errorText(internshipAgreementObject, 'competences')\r\n                  \"\r\n                  :label=\"$t('STUDY_COMPETENCES.TITLE')\"\r\n                  :multiple=\"true\"\r\n                  class=\"w-full\"\r\n                  autocomplete\r\n                >\r\n                  <vs-select-item\r\n                    v-for=\"item in studyCompetences.models\"\r\n                    :key=\"item.id\"\r\n                    :value=\"item.id\"\r\n                    :text=\"item.name\"\r\n                  />\r\n                </vs-select>\r\n              </div>\r\n            </div>\r\n          </vx-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"vx-col md:w-3/3 w-full mb-base\">\r\n      <vx-card :title=\"$t('ARTICLES.TITLE')\">\r\n        <span v-if=\"articlesHasError\">{{ errorText(articles) }}</span>\r\n        <div v-for=\"(article, index) in articles.models\" :key=\"index\">\r\n          <div class=\"vx-row  mb-6\">\r\n            <div class=\"vx-col  sm:w-1/12\">\r\n              <vs-button\r\n                v-if=\"index > 0\"\r\n                class=\"float-right\"\r\n                size=\"small\"\r\n                type=\"border\"\r\n                icon=\"arrow_upward\"\r\n                @click=\"move(index, index - 1)\"\r\n              >\r\n              </vs-button>\r\n              <vs-button\r\n                v-if=\"index < articles.models.length - 1\"\r\n                class=\"float-right\"\r\n                size=\"small\"\r\n                type=\"border\"\r\n                icon=\"arrow_downward\"\r\n                @click=\"move(index, index + 1)\"\r\n              />\r\n            </div>\r\n            <div class=\"vx-col md:w-10/12\">\r\n              <label class=\"vs-input--label\">\r\n                {{ $t('GLOBALS.CONTENT') }}\r\n              </label>\r\n              <quill-editor\r\n                :options=\"quillOptions\"\r\n                v-model=\"article.content\"\r\n                style=\"min-height:100px;\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"vx-col  sm:w-1/12\">\r\n              <vs-button\r\n                class=\"float-right\"\r\n                size=\"small\"\r\n                type=\"border\"\r\n                icon=\"delete\"\r\n                @click=\"removeArticle(article)\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <vs-divider />\r\n        </div>\r\n        <div class=\"vx-row mt-5\">\r\n          <div class=\"vx-col w-full text-right ml-auto\">\r\n            <vs-button class=\"\" @click=\"addEmptyArticle()\">\r\n              Add article\r\n            </vs-button>\r\n          </div>\r\n        </div>\r\n      </vx-card>\r\n    </div>\r\n    <div class=\"vx-row\">\r\n      <div class=\"vx-col sm:w-2/3 w-full ml-auto\">\r\n        <vs-button class=\"mr-3 mb-2\" @click=\"submit\">{{\r\n          $t('GLOBALS.SUBMIT')\r\n        }}</vs-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  InternshipAgreement,\r\n  InternshipAgreementCollection\r\n} from '@/models/InternshipAgreement'\r\nimport VTextBox from '../../components/form/VTextBox'\r\nimport VSelectBox from '../../components/form/VSelectBox'\r\n\r\nimport {\r\n  AgreementArticle,\r\n  AgreementArticleCollection\r\n} from '@/models/AgreementArticle'\r\nimport { StudyCompetenceCollection } from '@/models/StudyCompetence'\r\n\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nimport { quillEditor } from 'vue-quill-editor'\r\nimport { TemplateArticleCollection } from '@/models/TemplateArticle'\r\nimport { GradeCollection } from '@/models/Grade'\r\n\r\nexport default {\r\n  components: {\r\n    VTextBox,\r\n    VSelectBox,\r\n    quillEditor\r\n  },\r\n\r\n  props: {\r\n    internshipAgreement: {\r\n      type: Object,\r\n      default: () => new InternshipAgreement()\r\n    },\r\n    id: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      articles: new AgreementArticleCollection(),\r\n      studyCompetences: new StudyCompetenceCollection(),\r\n\r\n      internshipAgreementObject: this.internshipAgreement,\r\n      articlesHasError: false,\r\n      competencesHasError: false,\r\n      selectedCompetences: [],\r\n      grades: null\r\n    }\r\n  },\r\n\r\n  async mounted() {\r\n    if (!this.internshipAgreementObject.id && this.id) {\r\n      let internshipAgreements = new InternshipAgreementCollection()\r\n      if (this.isOrganizationUser) {\r\n        await internshipAgreements.fetchOrganization()\r\n      } else if (this.isStudent) {\r\n        await internshipAgreements.fetchStudent()\r\n      } else {\r\n        await internshipAgreements.fetch()\r\n      }\r\n\r\n      let $this = this\r\n      this.internshipAgreementObject = internshipAgreements.models.find(\r\n        internshipAgreement => internshipAgreement.id === parseInt($this.id)\r\n      )\r\n    }\r\n    if (this.id) {\r\n      this.articles.replace(this.internshipAgreementObject.articles)\r\n    } else {\r\n      let articles = new TemplateArticleCollection()\r\n      await articles.fetch()\r\n      this.articles.replace(articles.models)\r\n    }\r\n    if (this.internshipAgreementObject.studyProgram) {\r\n      this.studyCompetences = this.getStudyCompetencesFromStudyProgram(\r\n        this.internshipAgreementObject.studyProgram\r\n      )\r\n    }\r\n\r\n    this.internshipAgreementObject.on('change', event => {\r\n      if (\r\n        event.attribute === 'studyProgram' &&\r\n        this.internshipAgreementObject.studyProgram\r\n      ) {\r\n        this.studyCompetences = this.getStudyCompetencesFromStudyProgram(\r\n          this.internshipAgreementObject.studyProgram\r\n        )\r\n      }\r\n    })\r\n\r\n    this.selectedCompetences = this.internshipAgreementObject.competences.map(\r\n      competence => competence.id\r\n    )\r\n    let grades = new GradeCollection()\r\n    await grades.fetch(this.id)\r\n  },\r\n  methods: {\r\n    getStudyCompetencesFromStudyProgram(studyProgram) {\r\n      let competences = studyProgram.studyCompetences\r\n      if (studyProgram.studyModules) {\r\n        for (let studyModule of studyProgram.studyModules) {\r\n          competences = competences.concat(\r\n            studyModule.studyCompetences.map(competence => {\r\n              competence.name = studyModule.name + ' - ' + competence.name\r\n              return competence\r\n            })\r\n          )\r\n        }\r\n      }\r\n\r\n      return new StudyCompetenceCollection(competences)\r\n    },\r\n    move(old_index, new_index) {\r\n      let arr = JSON.parse(JSON.stringify(this.articles.models))\r\n      if (new_index >= arr.length) {\r\n        let k = new_index - arr.length + 1\r\n        while (k--) {\r\n          arr.push(undefined)\r\n        }\r\n      }\r\n      arr.splice(new_index, 0, arr.splice(old_index, 1)[0])\r\n      console.log(arr)\r\n      this.articles.replace(arr) //Replace from lowest index, two elements, reverting the order\r\n    },\r\n\r\n    isVisible(settings) {\r\n      if (this.internshipAgreementObject.id) {\r\n        return settings.showOnUpdate\r\n      }\r\n      return settings.showOnCreate\r\n    },\r\n    isSignatureVisible(settings) {\r\n      return settings.showInSignature\r\n    },\r\n\r\n    addEmptyArticle() {\r\n      this.articles.add(new AgreementArticle())\r\n      this.$forceUpdate()\r\n    },\r\n    submit() {\r\n      this.internshipAgreementObject.articles = this.articles\r\n      this.internshipAgreementObject.competences = this.studyCompetences.filter(\r\n        competence => this.selectedCompetences.includes(competence.id)\r\n      )\r\n      let action = 'save'\r\n      if (this.internshipAgreementObject.id) {\r\n        action = 'patch'\r\n      }\r\n      this.internshipAgreementObject[action]()\r\n        .then(() => {\r\n          this.$router.push({ name: 'internship-agreements' })\r\n          this.$vs.notify({\r\n            color: 'success',\r\n            title: this.$t('GLOBALS.RECORD_CREATED'),\r\n            text: this.$t('GLOBALS.RECORD_SUCCESSFULLY_CREATED')\r\n          })\r\n        })\r\n        .catch(error => {\r\n          this.showValidationErrors(this.internshipAgreementObject)\r\n          this.$vs.notify({\r\n            color: 'danger',\r\n            title: this.$t('GLOBALS.ERROR_ON_SAVE'),\r\n            text: error.message\r\n          })\r\n        })\r\n    },\r\n    remove(file) {\r\n      file.delete()\r\n    },\r\n\r\n    removeArticle(article) {\r\n      this.articles.remove(article)\r\n      this.articles = new AgreementArticleCollection(this.articles.models)\r\n    },\r\n    editStudentQuestions() {\r\n      this.$router.push({\r\n        name: 'internship-agreements-update-student-questions',\r\n        params: {\r\n          id: this.id\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=f8354c90&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}