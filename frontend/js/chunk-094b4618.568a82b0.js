(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-094b4618"],{"0fd7":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"invoice-page"}},[n("div",{staticClass:"flex flex-wrap items-center justify-between"},[n("vx-input-group",{},[n("vs-button",{staticClass:"mb-base mr-3",attrs:{"icon-pack":"feather",icon:"icon icon-file"},on:{click:e.backToView}},[e._v(e._s(e.$t("GLOBALS.BACK_TO_VIEW")))])],1),n("div",{staticClass:"flex items-center"},[n("vs-button",{staticClass:"mb-base mr-3",attrs:{"icon-pack":"feather",icon:"icon icon-file"},on:{click:e.printInvoice}},[e._v(e._s(e.$t("GLOBALS.PRINT")))])],1)],1),n("vx-card",{attrs:{id:"invoice-container"}},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col w-full"},[n("p",[e._v(e._s(e.school.name))]),n("p",[e._v(e._s(e.school.streetname))]),n("p",[e._v(e._s(e.school.cityzipcode)+" "+e._s(e.school.cityname))]),n("h5",{staticClass:"text-center mt-10"},[e._v(e._s(e.$t("PRINT.TITLE")))]),e.internshipAgreementObject.student?n("p",{staticClass:"mt-10"},[e._v("\n          "+e._s(e.getNiceName(e.internshipAgreementObject.student))+"\n          ("+e._s(e.internshipAgreementObject.student.username)+"),\n          "+e._s(e.internshipAgreementObject.student.streetname)+",\n          "+e._s(e.internshipAgreementObject.student.cityzipcode)+"\n          "+e._s(e.internshipAgreementObject.student.cityname)+"\n        ")]):e._e(),n("p",{staticClass:"mt-10"},[e._v("\n          "+e._s(e.$t("PRINT.HAS_FROM"))+"\n          "+e._s(e._f("moment")(e.internshipAgreementObject.periodBegin,"DD.MM.YYYY"))+"\n          "+e._s(e.$t("PRINT.TO"))+"\n          "+e._s(e._f("moment")(e.internshipAgreementObject.periodEnd,"DD.MM.YYYY"))+"\n          "+e._s(e.$t("PRINT.WORKED"))+"\n        ")]),e.internshipAgreementObject.organization?n("div",[n("p",{staticClass:"mt-5"},[e._v("\n            "+e._s(e.internshipAgreementObject.organization.name)+"\n          ")]),n("p",[e._v(e._s(e.internshipAgreementObject.organization.streetname))]),n("p",[e._v("\n            "+e._s(e.internshipAgreementObject.organization.cityzipcode)+"\n            "+e._s(e.internshipAgreementObject.organization.cityname)+"\n          ")])]):e._e(),n("p",{staticClass:"mt-10"},[e._v("\n          "+e._s(e.$t("PRINT.AGREEMENT_ABOUT"))+"\n          "+e._s(e.internshipAgreementObject.document_number)+"\n        ")]),n("p",{staticClass:"mt-10"},[e._v(e._s(e.$t("PRINT.SUPERVISED_BY")))]),e.internshipAgreementObject.mentor?n("div",[n("p",{staticClass:"mt-5"},[e._v("\n            "+e._s(e.getNiceName(e.internshipAgreementObject.mentor))+"\n          ")]),n("p",[e._v(e._s(e.internshipAgreementObject.mentor.streetname))]),e._v("\n          "+e._s(e.internshipAgreementObject.mentor.cityzipcode)+"\n          "),n("p",[e._v(e._s(e.internshipAgreementObject.mentor.cityname))]),n("p",[e._v(e._s(e.internshipAgreementObject.mentor.username))])]):e._e(),n("p",{staticClass:"mt-10 mb-5"},[e._v("\n          "+e._s(e.$t("PRINT.STUDENT_COMPLETED"))+"\n          "+e._s(e.internshipAgreementObject.sum_of_hours)+"\n          "+e._s(e.$t("PRINT.HOURS_OF"))+"\n        ")]),e._l(e.internshipAgreementObject.competences,(function(t){return n("p",{key:t.id,staticClass:"ml-5"},[e._v("\n          - "+e._s(t.name)+"\n        ")])})),e.internshipAgreementObject.organization?n("p",{staticClass:"mt-20"},[e._v("\n          "+e._s(e.internshipAgreementObject.organization.cityname)+",\n          "+e._s(e._f("moment")(e.internshipAgreementObject.periodEnd,"DD.MM.YYYY"))+"\n        ")]):e._e(),n("p",{staticClass:"mt-10 text-right"},[e._v(e._s(e.$t("PRINT.SCHOOL_ORGANIZER")))]),n("p",{staticClass:"text-right"},[e._v("\n          "+e._s(e.getNiceName(e.internshipAgreementObject.school_organizer))+"\n        ")]),n("p",{staticClass:"mt-20 text-justify"},[n("i",[e._v(e._s(e.$t("PRINT.DISCLOSURE")))])])],2)])])],1)},i=[],r=(n("7514"),n("96cf"),n("3b8d")),a=(n("c5f6"),n("35e5")),o=n("7f97"),u=n("bc3a"),c=n.n(u),l={props:{internshipAgreement:{type:Object,default:function(){return new a["a"]}},id:{type:[Number,String],required:!0}},data:function(){return{school:new o["a"],user:this.$store.state.AppActiveUser,internshipAgreementObject:this.internshipAgreement}},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{init:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,s,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="http://localhost:8000/api/",n=c.a.create({baseURL:t}),n.get("get-school-keys-for-login").then((function(e){r.school=e.data.find((function(e){return e.school_id===r.user.school}))})).catch((function(e){console.log(e)})),this.internshipAgreementObject.id){e.next=24;break}if(s=new a["b"],!this.isAdmin){e.next=10;break}return e.next=8,s.fetch();case 8:e.next=22;break;case 10:if(!this.isOrganizationUser){e.next=15;break}return e.next=13,s.fetchOrganization();case 13:e.next=22;break;case 15:if(!this.isStudent){e.next=20;break}return e.next=18,s.fetchStudent();case 18:e.next=22;break;case 20:return e.next=22,s.fetch();case 22:i=this,this.internshipAgreementObject=s.find((function(e){return e.id===parseInt(i.id)}));case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getNiceName:function(e){return e?e.first_name?[e.first_name,e.last_name].join(" "):e.username:"no user"},printInvoice:function(){window.print()},backToView:function(){this.$router.push({name:"internship-agreements-view",params:{id:this.internshipAgreementObject.id,internshipAgreement:this.internshipAgreementObject}})}}},h=l,d=(n("ea5d"),n("2877")),p=Object(d["a"])(h,s,i,!1,null,null,null);t["default"]=p.exports},"1d63":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));var s=n("d225"),i=n("b0b4"),r=n("308d"),a=n("6bb5"),o=n("013f"),u=n("4e2b"),c=n("bd86"),l=n("9242"),h=n("e7d5"),d=(n("fed8"),n("ebd1")),p=n("7550"),O=n("20ce"),w=n("07a4"),m=function(e){function t(){var e,n;Object(s["a"])(this,t);for(var i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=Object(r["a"])(this,(e=Object(a["a"])(t)).call.apply(e,[this].concat(u))),Object(c["a"])(Object(o["a"])(n),"displayField1","name"),n}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"defaults",value:function(){return{id:null,orgtype:"ORGANIZATION",name:null,streetname:null,cityname:null,cityzipcode:null,contact_username:null,school_id:w["a"].state.AppActiveUser.school,studyPrograms:[]}}},{key:"options",value:function(){return{identifier:"id",useFirstErrorOnly:!0}}},{key:"displayField",value:function(){return"name"}},{key:"mutations",value:function(){return{}}},{key:"fieldsSettings",value:function(){return{id:{label:"GLOBALS.ID",type:"text",showInList:!1,showInView:!1,showOnCreate:!1,showOnUpdate:!1,pinned:"left",width:100},name:{label:"GLOBALS.NAME_ORGANIZATION",type:"text",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0,pinned:"left"},streetname:{label:"GLOBALS.ADDRESS",type:"text",showInList:!1,showInView:!0,showOnCreate:!0,showOnUpdate:!0},cityname:{label:"GLOBALS.CITY",type:"text",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0},cityzipcode:{label:"GLOBALS.ZIP_CODE",type:"text",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0},contact_username:{label:"GLOBALS.CONTACT_USER",type:"select",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0,sendOnlyIds:!0,values:new d["b"],filterRole:"ROLE_ORGADMIN"},studyPrograms:{label:"STUDY_PROGRAMS.TITLE",type:"select",showInList:!1,showInView:!1,showOnCreate:!0,showOnUpdate:!0,multiple:!0,values:new p["b"]}}}},{key:"validation",value:function(){return{orgtype:O["required"],name:O["required"],streetname:O["required"],cityname:O["required"],cityzipcode:O["required"],school_id:O["required"]}}},{key:"routes",value:function(){return{fetch:"/editOrganization/{id}",save:"/createOrganization",propose:"/studentProposal/{study_program_id}",patch:"/editOrganization",delete:"/deleteOrganization/{id}"}}},{key:"propose",value:function(e){var t={url:"/studentProposal/"+e,method:"POST",data:this};return this.createRequest(t).send()}}]),t}(l["a"]),g=function(e){function t(){return Object(s["a"])(this,t),Object(r["a"])(this,Object(a["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"model",value:function(){return m}},{key:"defaults",value:function(){return{orderBy:"id"}}},{key:"routes",value:function(){return{fetch:"/listOrganizationsByType/ORGANIZATION"}}}]),t}(h["a"])},"33f3":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O}));var s=n("d225"),i=n("b0b4"),r=n("308d"),a=n("6bb5"),o=n("4e2b"),u=n("9242"),c=n("e7d5"),l=n("20ce"),h=n("fed8"),d=n("07a4"),p=function(e){function t(){return Object(s["a"])(this,t),Object(r["a"])(this,Object(a["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"defaults",value:function(){return{id:null,school_id:d["a"].state.AppActiveUser.school,ordnum:null,content:null,version_num:null}}},{key:"options",value:function(){return{identifier:"id",useFirstErrorOnly:!0}}},{key:"displayField",value:function(){return"ordnum"}},{key:"mutations",value:function(){return{}}},{key:"fieldsSettings",value:function(){return{id:{label:"GLOBALS.ID",type:"text",showInList:!0,showOnCreate:!1,showOnUpdate:!1,pinned:"left",width:100},school_id:{label:"SCHOOL_KEY.TITLE_SINGLE",type:"select",showInList:!0,showOnCreate:!1,showOnUpdate:!1,values:new h["b"]},ordnum:{label:"GLOBALS.ORDER_NUMBER",type:"text",showInList:!0,showOnCreate:!0,showOnUpdate:!0},version_num:{label:"GLOBALS.VERSION_NUMBER",type:"text",showInList:!0,showOnCreate:!0,showOnUpdate:!0},content:{label:"GLOBALS.CONTENT",type:"textarea",showInList:!1,showOnCreate:!0,showOnUpdate:!0}}}},{key:"validation",value:function(){return{school_id:l["required"]}}},{key:"routes",value:function(){return{fetch:"/editAgreementArticle/{id}",save:"/createAgreementArticle",patch:"/editAgreementArticle",delete:"/deleteAgreementArticle/{id}"}}}]),t}(u["a"]),O=function(e){function t(){return Object(s["a"])(this,t),Object(r["a"])(this,Object(a["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"model",value:function(){return p}},{key:"defaults",value:function(){return{orderBy:"id"}}},{key:"routes",value:function(){return{fetch:"/listAgreementArticles"}}}]),t}(c["a"])},"35e5":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return _}));n("a481");var s=n("d225"),i=n("b0b4"),r=n("308d"),a=n("6bb5"),o=n("4e2b"),u=n("9242"),c=n("e7d5"),l=n("ebd1"),h=n("fed8"),d=n("7550"),p=n("33f3"),O=n("f5c3"),w=(n("7f97"),n("1d63")),m=n("20ce"),g=n("07a4"),f=function(e){function t(){return Object(s["a"])(this,t),Object(r["a"])(this,Object(a["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"defaults",value:function(){return{id:null,document_number:null,organization:null,student:null,mentor:null,school_organizer:null,periodBegin:null,periodEnd:null,studyProgram:null,school_id:g["a"].state.AppActiveUser.school,version_num:null,grade_final:null,grade_exam:null,ects_points:null,sum_of_hours:null,articles:[],competences:[],signed_student_username:null,signed_student_date:null,signed_school_username:null,signed_school_date:null,signed_organization_username:null,signed_organization_date:null}}},{key:"options",value:function(){return{identifier:"id",useFirstErrorOnly:!0}}},{key:"displayField",value:function(){return"id"}},{key:"mutations",value:function(){return{}}},{key:"fieldsSettings",value:function(){return{id:{label:"GLOBALS.ID",type:"text",showInList:!0,showInView:!1,showOnCreate:!1,showOnUpdate:!1,width:100,pinned:"left"},document_number:{label:"GLOBALS.DOCUMENT_NUMBER",type:"text",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0,pinned:"left"},organization:{label:"ENTERPRISES.TITLE_SINGLE",type:"select",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0,values:new w["b"],filter:!0},student:{label:"USERS.STUDENT",type:"select",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0,values:new l["b"],filterRole:"ROLE_STUDENT"},mentor:{label:"USERS.MENTOR",type:"select",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0,values:new l["b"],filterRole:"ROLE_MENTOR"},school_organizer:{label:"USERS.SCHOOL_ORGANIZER",type:"select",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0,values:new l["b"],filterRole:"ROLE_SCHOOLORG"},periodBegin:{label:"GLOBALS.BEGIN",type:"date",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0},periodEnd:{label:"GLOBALS.END",type:"date",showInList:!0,showInView:!0,showOnCreate:!0,showOnUpdate:!0},studyProgram:{label:"STUDY_PROGRAMS.TITLE_SINGLE",type:"select",showInList:!1,showInView:!1,showOnCreate:!0,showOnUpdate:!0,values:new d["b"]},school_id:{label:"SCHOOL_KEYS.TITLE_SINGLE",type:"select",showInList:!1,showInView:!1,showOnCreate:!1,showOnUpdate:!1,values:new h["b"]},grade_exam:{label:"GLOBALS.GRADE_EXAM",type:"integer",showInList:!1,showInView:!0,showOnCreate:!1,showOnUpdate:!0},grade_final:{label:"GLOBALS.GRADE_FINAL",type:"integer",showInList:!1,showInView:!0,showOnCreate:!1,showOnUpdate:!0},sum_of_hours:{label:"GLOBALS.SUM_OF_HOURS",type:"integer",showInList:!1,showInView:!0,showOnCreate:!0,showOnUpdate:!0},ects_points:{label:"GLOBALS.ECTS_POINTS",type:"integer",showInList:!1,showInView:!0,showOnCreate:!0,showOnUpdate:!0},version_num:{label:"GLOBALS.VERSION_NUMBER",type:"integer",showInList:!0,showInView:!0,showOnCreate:!1,showOnUpdate:!1},articles:{label:"ARTICLES.TITLE",type:"select",showInList:!1,showInView:!1,showOnCreate:!1,showOnUpdate:!1,values:new p["b"]},competences:{label:"COMPETENCES.TITLE",type:"select",showInList:!1,showInView:!1,showOnCreate:!1,showOnUpdate:!1,values:new O["b"]},signed_student_username:{label:"GLOBALS.SIGNED_STUDENT",type:"text",showInList:!1,showInView:!1,showInSignature:!0,showOnCreate:!1,showOnUpdate:!1},signed_student_date:{label:"GLOBALS.SIGNED_STUDENT_DATE",type:"date",showInList:!1,showInView:!1,showInSignature:!0,showOnCreate:!1,showOnUpdate:!1},signed_school_username:{label:"GLOBALS.SIGNED_SCHOOL",type:"text",showInList:!1,showInView:!1,showInSignature:!0,showOnCreate:!1,showOnUpdate:!1},signed_school_date:{label:"GLOBALS.SIGNED_SCHOOL_DATE",type:"date",showInList:!1,showInView:!1,showInSignature:!0,showOnCreate:!1,showOnUpdate:!1},signed_organization_username:{label:"GLOBALS.SIGNED_ORGANIZATION",type:"text",showInList:!1,showInView:!1,showInSignature:!0,showOnCreate:!1,showOnUpdate:!1},signed_organization_date:{label:"GLOBALS.SIGNED_ORGANIZATION_DATE",type:"date",showInList:!1,showInView:!1,showInSignature:!0,showOnCreate:!1,showOnUpdate:!1}}}},{key:"validation",value:function(){return{organization:m["required"],student:m["required"],studyProgram:m["required"],competences:function(e){if(!e||!e.length)return"required."},articles:function(e){if(!e||!e.length)return"This field is required."}}}},{key:"routes",value:function(){return{fetch:"/editInternshipAgreement/{id}",save:"/createInternshipAgreement",patch:"/editInternshipAgreement",delete:"/deleteInternshipAgreement/{id}",getFiles:"/getFiles",signStudent:"/signStudent",signSchool:"/signSchool",signOrganization:"/signOrganization",signInternshipAgreement:"/signInternshipAgreement"}}},{key:"getFiles",value:function(){var e={url:"/getInternshipAgreementFiles/"+this.id,method:"GET"};return this.createRequest(e).send()}},{key:"signStudent",value:function(){var e={url:"/signStudentInternshipAgreements/"+this.id,method:"GET"};return this.createRequest(e).send()}},{key:"signSchool",value:function(){var e={url:"/signSchoolInternshipAgreements/"+this.id,method:"GET"};return this.createRequest(e).send()}},{key:"signOrganization",value:function(){var e={url:"/signOrganizationInternshipAgreements/"+this.id,method:"GET"};return this.createRequest(e).send()}},{key:"signInternshipAgreement",value:function(e,t,n){var s={url:"/signInternshipAgreement/",method:"POST",data:{internship_agreement:{id:this.id},signed_student_username:e.username,signed_school_username:n.username,signed_organization_username:t.username}};return this.createRequest(s).send()}}]),t}(u["a"]),_=function(e){function t(){return Object(s["a"])(this,t),Object(r["a"])(this,Object(a["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"model",value:function(){return f}},{key:"defaults",value:function(){return{orderBy:"id"}}},{key:"routes",value:function(){return{fetch:"/listInternshipAgreements",fetchUnsigned:"/listUnsignedInternshipAgreements",fetchUnsignedStudent:"/listUnsignedStudentInternshipAgreements",fetchStudent:"/listStudentInternshipAgreements",fetchUnsignedOrganization:"/listUnsignedOrganizationInternshipAgreements",fetchOrganization:"/listOrganizationInternshipAgreements",fetchSchool:"/listSchoolInternshipAgreements"}}},{key:"fetchStudent",value:function(){var e=this,t={url:"/listStudentInternshipAgreements",method:"GET"};return this.createRequest(t).send().then((function(t){e.replace(t.response.data)})).catch((function(e){}))}},{key:"fetchOrganization",value:function(){var e=this,t={url:"/listOrganizationInternshipAgreements",method:"GET"};return this.createRequest(t).send().then((function(t){e.replace(t.response.data)})).catch((function(e){}))}},{key:"fetchUnsignedStudent",value:function(){var e=this,t={url:"/listUnsignedStudentInternshipAgreements",method:"GET"};return this.createRequest(t).send().then((function(t){e.replace(t.response.data)})).catch((function(e){}))}},{key:"fetchUnsignedOrganization",value:function(){var e=this,t={url:"/listUnsignedOrganizationInternshipAgreements",method:"GET"};return this.createRequest(t).send().then((function(t){e.replace(t.response.data)})).catch((function(e){}))}},{key:"fetchUnsigned",value:function(){var e=this,t={url:"/listUnsignedInternshipAgreements",method:"GET"};return this.createRequest(t).send().then((function(t){e.replace(t.response.data)})).catch((function(e){}))}}]),t}(c["a"])},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("85f2"),i=n.n(s);function r(e,t,n){return t in e?i()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},ea5d:function(e,t,n){"use strict";var s=n("ef94"),i=n.n(s);i.a},ef94:function(e,t,n){}}]);
//# sourceMappingURL=chunk-094b4618.568a82b0.js.map